<!DOCTYPE html>
<!-- Written by: Dylan Bickerstaff -->
<html>
	<head>
		<title>PhoneBook API Documentation</title>
	</head>
	<body style="background-color:#dedede;">
		<h1>PhoneBook API Documentation</h1>
		<hr>
		<h2>Introduction</h2>
		<p>
			The PhoneBook's API is used to dynamically respond to changes in search queries live on screen without the need of refreshing/reloading the page. This method is known as <a href="http://api.jquery.com/jquery.ajax/">AJAX</a>.<br>
			All requests to the API are done using the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST">POST</a> http method, and the data submitted will use <a href="http://www.json.org/">json</a>.<br>
			Every response from the API where a response is nessesary will return with a json string.
		</p>
		<h2>Request Structure</h2>
		<ul>
			<li><a href="#">api</a></a>
				<ul>
					<li><a href="#search">search</a>
						<ul>
							<li><a href="#offset">offset</a></li>
							<li><a href="#count">count</a></li>
						</ul>
					</li>
					<li><a href="#import">import</a></li>
					<li><a href="#export">export</a>
						<ul>
							<li><a href="#tags">tags</a></li>
							<li><a href="#number">number</a></li>
							<li><a href="#numbers">numbers</a></li>
						</ul>
					</li>
				</ul>
			</li>
		</ul>
		<hr>
		<h2 id="search">Search API</h2>
		<p>
			The search API method will respond with a list of phone numbers that best matches the list of search tags given.<br><br>
			The search <b id="count">count</b> will limit the results returned to the number provided.<br><br>
			The search <b id="offset">offset</b> will offset the filter anding algortithm. For example:<br><br>
			An offset of 0 will only return numbers that match all of the search tags.<br>
			An offset of 1 will return all numbers that match the search tags or all the search tags minus one.<br>
			For example if 3 tags are sent, the numbers returned would have to have matched all of the tags or 2 of the tags.
			The results would return with the most matching numbers first.
		</p>
		<h4><i>POST Request Header</i></h4>
		<pre>
api: search
offset: 0
count: 100
search: ["example","search","tags"]
		</pre>
		<h4><i>POST JSON Request Syntax</i></h4>
		<pre>
[
    "example",
    "search",
    "tags"
]
		</pre>
		<h4><i>POST JSON Response Example</i></h4>
		<pre>
[
    1234,
    5678
]
		</pre>
		<h4><i>POST JSON Live Demo</i></h4>
		<form target="search" method="post">
			<input type="number" name="offset" placeholder="Offset: 0">
			<input type="number" name="count" placeholder="Count: 100">
			<button>Send</button><br><br>
			<textarea name="search" style="width:300px;height:95px;">
[
    "manager"
]
			</textarea>
			<input type="hidden" name="api" value="search">	
			<iframe style="width:300px;height:95px;" name="search"></iframe>
		</form>
		<hr>
		<h2 id="import">Import API</h2>
		<p>
			The import API allows numbers to be imported into the database using JSON.<br>
			This method allows for number editing and deleting as well.<br><br>
			When editing a number using the import API, you must first export the number you are going to edit, then modify the JSON (except for the number), then import the JSON using this API.<br><br>
			To delete a number, submit an empty number like so:
			<pre>
{
    "1234": []
}
			</pre>
			<i>This API only responds with Fatal PHP errors.</i>
		</p>
		<h4><i>POST Request Header</i></h4>
		<pre>
api: import
import: {"1234":{"description":"Test Number","tags":["example","tags"]}}
		</pre>
		<h4><i>POST JSON Request Syntax</i></h4>
		<pre>
{
    "1234": {
        "description": "Test Number",
        "tags": [
            "example",
            "tags"
        ]
    }
}
		</pre>
		<h4><i>POST JSON Live Demo</i></h4>
		<form target="import" method="post">
			<button>Send</button><br><br>
			<b style="color:red;">Sending this data will save to the database.</b>
			<br><br>
			<textarea name="import" style="width:300px;height:95px;">
{
    "1234": {
        "description": "Test Number",
        "tags": [
            "example",
            "tags"
        ]
    }
}
			</textarea>
			<input type="hidden" name="api" value="import">	
			<iframe style="width:300px;height:95px;" name="import"></iframe>
		</form>
		<hr>
		<h2 id="import">Export API</h2>
		<p>
			The Export API is split into three methods:<br><br>
			The <b id="number">number</b> method will export a number's data from the provided number. <br><br>
			The <b id="tags">tags</b> method will export all tags at one time.<br><br>
			The <b id="numbers">numbers</b> method will export all numbers.<br><br>
		</p>
		<h4><i>POST Request Headers</i></h4>
		<pre>
api: export
export: number
number: 1234
		</pre>
		<pre>
api: export
export: tags
		</pre>
		<pre>
api: export
export: numbers
numbers: [1234, 5678]
		</pre>
		<h4><i>POST Live Demo</i></h4>
		<form target="export" method="post">
			<button>Send</button><br><br>
			<select name="export">
				<option value="number">number</option>
				<option value="tags">tags</option>
				<option value="numbers">numbers</option>
			</select><br><br>
			<input type="number" name="number" value="1234"><br><br>
			<textarea name="numbers" style="width:300px;height:95px;">
[1234, 5678]
			</textarea>
			<iframe style="width:300px;height:95px;" name="export"></iframe>
			<input type="hidden" name="api" value="export">	
		</form>
		<br><br><br><br><br><br><br><br>
	</body>
</html>